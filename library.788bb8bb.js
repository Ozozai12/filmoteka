class e{async serviceMovieTopApi(){try{const e=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=bef2e1469ade062164db331fc6ab2f25&media_type=all&time_window=week&page=${this.page}`);return await e.json()}catch(e){console.error(e.message)}}async serviceSearchMovie(){try{const e=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=bef2e1469ade062164db331fc6ab2f25&query="${this.searchValue}`);return await e.json()}catch(e){console.error(e.message)}}async serviceIdMovie(e){try{const e=await fetch(`https://api.themoviedb.org/3/movie/${this.id},?api_key=bef2e1469ade062164db331fc6ab2f25`);return await e.json()}catch(e){console.error(e.message)}}ressetPage(){this.page=1}incrementPage(){return this.page+=1}decrementPage(){return this.page-=1}set query(e){this.searchValue=e}set pageNumber(e){this.page=e}set idNumber(e){this.id=e}constructor(){this.searchValue="",this.page=1,this.id=NaN}}const t=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function i(e){e.forEach((e=>{t.map((t=>{t.id===e.genre_ids[0]&&(e.genre_ids[0]=t.name),t.id===e.genre_ids[1]&&(e.genre_ids[1]=t.name),t.id===e.genre_ids[2]&&(e.genre_ids[2]=t.name),t.id===e.genre_ids[3]&&(e.genre_ids[3]=t.name),t.id===e.genre_ids[4]&&(e.genre_ids[4]=t.name)}));e.genre_ids,e.release_date.slice(0,4)}))}const n=new e;(async()=>{i((await n.serviceMovieTopApi()).results)})();let a=new e;const s=document.querySelector(".box"),r=document.querySelector(".open-btn");let o,c=[];s.innerHTML="";function d(){s.innerHTML=""}r.addEventListener("click",(async()=>{console.log("window opened"),a.idNumber=852448,o=await a.serviceIdMovie(),genres=Object.values(o.genres);for(const e of genres)c.push(e.name);s.insertAdjacentHTML("afterBegin",`\n    <div class="backdrop">\n      <div class="film-card modal">\n        <img src="https://image.tmdb.org/t/p/original${o.poster_path}" alt="Txt" />\n        <div>\n          <h2 class="film-card__title">${o.title}</h2>\n          <div class="film-card__features">\n            <ul class="film-card__feature-list">\n              <li class="film-card__feature-name">Vote / Votes</li>\n              <li class="film-card__feature-name">Popularity</li>\n              <li class="film-card__feature-name">Original Title</li>\n              <li class="film-card__feature-name">Genre</li>\n            </ul>\n            \n            <ul>\n              <li class="film-card__feature-description"><span class="vote">${o.vote_average}</span> <span\n                                class="divider"> / </span> ${o.vote_count}</li>\n              <li class="film-card__feature-description">${o.popularity}</li>\n              <li class="film-card__feature-description original-title">${o.original_title}</li>\n              <li class="film-card__feature-description">${c}</li>\n            </ul>\n          </div>\n          <h3 class="about__title">About</h3>\n          <p class="about__text">\n            ${o.overview}\n          </p>\n            \n          <div class="button__box">\n            <button type="button" class="button__watch button">Add to watched</button>\n            <button type="button" class="button__queue button">Add to queue</button>\n          </div>\n\n        <button class="button__modal-close">\n          <svg\n            xmlns="http://www.w3.org/2000/svg"\n            width="14"\n            height="14"\n            class="bi bi-x-lg"\n            viewBox="0 0 32 32"\n          >\n            <path d="M32 3.223l-3.223-3.223-12.777 12.777-12.777-12.777-3.223 3.223 12.777 12.777-12.777 12.777 3.223 3.223 12.777-12.777 12.777 12.777 3.223-3.223-12.777-12.777 12.777-12.777z"></path>\n          </svg>\n        </button>\n      </div>\n    </div>\n  </div>\n  `);document.querySelector(".button__modal-close").addEventListener("click",d)}));document.querySelector(".to-top").addEventListener("click",(()=>{window.scrollTo(0,0)}));const l=document.querySelector(".to-top");window.onscroll=()=>{window.scrollY>700?l.classList.remove("to-top--hide"):window.scrollY<700&&l.classList.add("to-top--hide")};
//# sourceMappingURL=library.788bb8bb.js.map
